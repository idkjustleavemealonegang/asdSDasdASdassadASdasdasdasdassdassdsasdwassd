<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Menu System</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root{
    --theme-main: #d400ff;
    --theme-glow: #ff00c8;
    --sel-bg: rgba(212,0,255,0.22);
    --sel-outline: 1px solid var(--theme-main);
    --li-pad-y: 4px;
    --li-pad-x: 8px;
    --icon-size: 16px;
  }

  html, body{ height:100%; margin:0; overflow:hidden; }
  body{
    background: transparent;
    display:flex; align-items:flex-start; justify-content:flex-start;
    font-family:sans-serif;
    user-select:none; -webkit-user-select:none;
    padding:70px 24px 24px;
  }

  .menu-wrapper{ position:relative; display:inline-block; margin-left:24px; }

  .side-indicator-track{
    position:absolute; left:-16px; top:0; height:0; width:10px;
    background:rgba(0,0,0,.7); border-radius:12px;
    box-shadow:inset 0 0 6px rgba(0,0,0,.9); pointer-events:none;
  }
  .side-indicator{
    position:absolute; left:-14px; width:6px; height:20px;
    background:rgba(212,0,255,.35); border-radius:10px;
    box-shadow:0 0 6px var(--theme-glow), 0 0 12px rgba(248,0,236,0.56);
    transition:top .18s ease; pointer-events:none;
  }

  .menu{
    width:320px; border-radius:4px; overflow:hidden;
    background:#000000dc; color:#fff; outline:none; position:relative;
    max-height:80vh;
    overflow-y:auto;
  }

  .menu-header{
    height:120px; padding:0;
    background:
      linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.55)),
      url('https://i.ibb.co/4Rz2SXMm/LOGO.png') center/cover no-repeat;
  }

  .menu-pill-container{
    background:#000; padding:1.5px; border-bottom:1px solid rgba(255,255,255,.15);
    text-align:center;
  }
  .menu-pill{ font-size:13px; font-weight:700; letter-spacing:1px; }

  .menu-list, .submenu{ list-style:none; margin:0; padding:0; position:relative; 
    max-height:70vh;
    overflow-y:auto;
  }
  .menu-list li, .submenu li{
    box-sizing:border-box;
    padding:var(--li-pad-y) var(--li-pad-x);
    display:flex; align-items:center; gap:8px; justify-content:space-between;
    font-size:13px; line-height:1.35;
    transition: background .15s ease, outline-color .15s ease;
  }
  .menu-list li:hover, .submenu li:hover{ font-size:13px; }

  .menu-list li.selected, .submenu li.selected{
    background:var(--sel-bg);
    outline:var(--sel-outline);
    border-radius:8px;
    box-shadow:0 0 2px var(--theme-main);
  }

  .left-content{ display:flex; align-items:center; gap:8px; font-weight:600; }
  .arrow{ font-size:17px; opacity:.7; }

  .menu-list li svg.lucide, .submenu li svg.lucide{
    width:var(--icon-size)!important; height:var(--icon-size)!important; flex-shrink:0;
    color:#fff; stroke:currentColor; stroke-width:1.75;
  }

  .menu-footer{
    background:#000; border-top:1px solid rgba(255,255,255,.15);
    border-radius:0 0 4px 4px; padding:8px; font-size:12px;
    display:flex; justify-content:space-between; align-items:center;
  }
  .menu-footer .right{ opacity:.8; font-style:italic; }

  .submenu{ display:none; 
    max-height:70vh;
    overflow-y:auto;
  }

  .switch{
    width:38px; height:20px; background:#cc00ff44; border:1px solid #ffffff;
    border-radius:999px; position:relative; flex-shrink:0; margin-left:auto;
  }
  .switch .knob{
    position:absolute; top:50%; left:2px; width:16px; height:16px; transform:translateY(-50%);
    background:#fff; border-radius:50%; display:grid; place-items:center; transition:left .18s ease;
  }
  .switch .mark{ font-size:12px; line-height:1; color:#000; }
  .switch[data-state="on"]{ background:var(--theme-main); border-color:#ffffff; }
  .switch[data-state="on"] .knob{ left:20px; }
  .switch[data-state="on"] .mark{ display:none; }

  .submenu .section{
    display:flex; align-items:center; justify-content:center;
    font-size:11px; font-weight:600; opacity:.8; margin:6px 0;
  }
  .submenu .section::before, .submenu .section::after{
    content:""; flex:1; border-bottom:1px solid rgba(255,255,255,0.2); margin:0 6px;
  }

  .revive-btn, .feature-btn{
    background:transparent; padding:4px 10px; border-radius:6px; font-size:12px;
    font-weight:600; text-align:left; flex:1;
  }

  .notification-container{
    position:fixed; top:50%; right:20px; transform:translateY(-50%);
    display:flex; flex-direction:column; gap:10px; z-index:9999;
  }
  .notification{
    color:#fff; padding:12px 18px; border-radius:10px;
    box-shadow:0 0 12px rgba(0,0,0,0.6);
    font-size:14px; font-weight:700; letter-spacing:.3px;
    opacity:0; transform:translateX(120%); transition:all .3s ease;
  }
  .notification.ok{
    background:linear-gradient(135deg, #8a00ff, #d000ff);
    border:1px solid rgba(255,255,255,.2);
  }
  .notification.err{
    background:linear-gradient(135deg, #b00020, #ff1744);
    border:1px solid rgba(255,255,255,.2);
  }
  .notification.show{ opacity:1; transform:translateX(0); }

  .finder{
    position:fixed; left:50%; bottom:11%; transform:translateX(-50%);
    width:min(45vw, 520px); min-width:360px; display:none; z-index:10000; text-align:left;
  }
  .finder .panel{ background:rgba(0, 0, 0, 0.932); border-radius:0px; padding:10px 14px 16px; }
  .finder .label{ font-size:14px; color:#ffffff; margin-left:6px; text-transform:capitalize; }
  .finder .line{ height:3px; background:linear-gradient(90deg,#9c00ff,#d000ff); margin:6px 0 8px; width:100%; }
  .finder input{
    width:100%; background:transparent; border:none; outline:none; color:#fff;
    font-weight:700; font-size:15px; text-align:left; letter-spacing:.3px;
  }
  .finder input::placeholder{ color:#ffffff; opacity:.95; }
</style>
</head>
<body>
  <div class="menu-wrapper">
    <div class="side-indicator-track" id="track"></div>
    <div class="side-indicator" id="capsule"></div>

    <div class="menu" tabindex="0" id="menu">
      <div class="menu-header"></div>
      <div class="menu-pill-container"><div class="menu-pill" id="section-title">HOME</div></div>

      <!-- HOME MENU -->
      <ul class="menu-list" id="main-menu" data-menuid="main">
        <li data-type="nav" data-target="self-submenu"><div class="left-content"><i data-lucide="user"></i> Self</div><span class="arrow">»</span></li>
        <li data-type="nav" data-target="online-submenu"><div class="left-content"><i data-lucide="wifi"></i> Online</div><span class="arrow">»</span></li>
        <li data-type="nav" data-target="combat-submenu"><div class="left-content"><i data-lucide="crosshair"></i> Combat/Weapon</div><span class="arrow">»</span></li>
        <li data-type="nav" data-target="visual-submenu"><div class="left-content"><i data-lucide="eye"></i> Visual</div><span class="arrow">»</span></li>
        <li data-type="nav" data-target="vehicle-submenu"><div class="left-content"><i data-lucide="car"></i> Vehicle</div><span class="arrow">»</span></li>
        <li data-type="nav" data-target="misc-submenu"><div class="left-content"><i data-lucide="puzzle"></i> Miscellaneous</div><span class="arrow">»</span></li>
        <li data-type="nav" data-target="destructive-submenu"><div class="left-content"><i data-lucide="flame"></i> Destructive</div><span class="arrow">»</span></li>
        <li data-type="nav" data-target="triggers-submenu"><div class="left-content"><i data-lucide="zap"></i> Triggers</div><span class="arrow">»</span></li>
        <li data-type="nav" data-target="settings-submenu"><div class="left-content"><i data-lucide="settings"></i> Settings</div><span class="arrow">»</span></li>
        <li data-type="finder"><div class="left-content"><i data-lucide="search"></i> Find Feature</div><span class="arrow">⏎</span></li>
      </ul>

      <!-- SELF -->
      <ul class="submenu" id="self-submenu" data-menuid="SELF">
        <li class="section">Movement</li>
        <li data-type="toggle" data-feature="Noclip" id="noclip-toggle"><span class="left-content">Noclip</span><div class="switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>
        <li data-type="toggle" data-feature="Godmode"><span class="left-content">Godmode</span><div class="switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>
        <li data-type="toggle" data-feature="Infinite Stamina"><span class="left-content">Infinite Stamina</span><div class="switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>

        <li class="section">Modifications</li>
        <li data-type="toggle" data-feature="Super Jump"><span class="left-content">Super Jump</span><div class="switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>
        <li data-type="toggle" data-feature="Fast Run"><span class="left-content">Fast Run</span><div class="switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>

        <li class="section">Actions</li>
        <li data-type="button" data-feature="Revive"><div class="revive-btn">Revive</div></li>
      </ul>

      <!-- ONLINE -->
      <ul class="submenu" id="online-submenu" data-menuid="ONLINE">
        <li data-type="nav" data-target="online-list-submenu"><div class="left-content">List</div><span class="arrow">»</span></li>
        <li data-type="nav" data-target="online-features-submenu"><div class="left-content">Features</div><span class="arrow">»</span></li>
      </ul>

      <!-- ONLINE > LIST -->
      <ul class="submenu" id="online-list-submenu" data-menuid="ONLINE > LIST">
        <li data-type="toggle" data-feature="Select Everyone"><span class="left-content">Select Everyone</span><div class="switch" data-role="select-all" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>
        <li data-type="toggle" data-feature="Unselect Everyone"><span class="left-content">Unselect Everyone</span><div class="switch" data-role="unselect-all" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>

        <li class="section">Players</li>
        <li data-type="toggle" data-feature="Player1"><span class="left-content">Player1</span><div class="switch player-switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>
        <li data-type="toggle" data-feature="Player2"><span class="left-content">Player2</span><div class="switch player-switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>
      </ul>

      <!-- ONLINE > FEATURES -->
      <ul class="submenu" id="online-features-submenu" data-menuid="ONLINE > FEATURES">
        <li data-type="button" data-feature="Teleport to Player"><div class="feature-btn">Teleport to Player</div></li>
        <li data-type="toggle" data-feature="Spectate"><span class="left-content">Spectate</span><div class="switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>

        <li class="section">Appearance</li>
        <li data-type="button" data-feature="Copy Clothing"><div class="feature-btn">Copy Clothing</div></li>
        <li data-type="button" data-feature="Copy Appearance"><div class="feature-btn">Copy Appearance</div></li>
      </ul>

      <!-- COMBAT/WEAPON -->
      <ul class="submenu" id="combat-submenu" data-menuid="COMBAT/WEAPON">
        <li data-type="toggle" data-feature="Aimbot"><span class="left-content">Aimbot</span><div class="switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>
        <li data-type="toggle" data-feature="No Recoil"><span class="left-content">No Recoil</span><div class="switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>
      </ul>

      <!-- VISUAL -->
      <ul class="submenu" id="visual-submenu" data-menuid="VISUAL">
        <li data-type="toggle" data-feature="ESP"><span class="left-content">ESP</span><div class="switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>
        <li data-type="toggle" data-feature="No Fog"><span class="left-content">No Fog</span><div class="switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>
      </ul>

      <!-- VEHICLE -->
      <ul class="submenu" id="vehicle-submenu" data-menuid="VEHICLE">
        <li data-type="toggle" data-feature="God Car"><span class="left-content">God Car</span><div class="switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>
        <li data-type="toggle" data-feature="Speed Boost"><span class="left-content">Speed Boost</span><div class="switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>
      </ul>

      <!-- MISC -->
      <ul class="submenu" id="misc-submenu" data-menuid="MISCELLANEOUS">
        <li data-type="toggle" data-feature="No Clip Camera"><span class="left-content">No Clip Camera</span><div class="switch" data-state="off"><div class="knob"><span class="mark">✕</span></div></div></li>
      </ul>

      <!-- DESTRUCTIVE -->
      <ul class="submenu" id="destructive-submenu" data-menuid="DESTRUCTIVE">
        <li data-type="button" data-feature="Explosion Gun"><div class="feature-btn">Explosion Gun</div></li>
      </ul>

      <!-- TRIGGERS -->
      <ul class="submenu" id="triggers-submenu" data-menuid="TRIGGERS">
        <li data-type="button" data-feature="Trigger Example"><div class="feature-btn">Trigger Example</div></li>
      </ul>

      <!-- SETTINGS -->
      <ul class="submenu" id="settings-submenu" data-menuid="SETTINGS">
        <li class="section">Colors</li>
        <li data-type="theme" data-color="blue"><div class="feature-btn">Blue</div></li>
        <li data-type="theme" data-color="red"><div class="feature-btn">Red</div></li>
        <li data-type="theme" data-color="green"><div class="feature-btn">Green</div></li>
        <li data-type="theme" data-color="orange"><div class="feature-btn">Orange</div></li>
        <li data-type="theme" data-color="restore"><div class="feature-btn">Restore Default</div></li>
      </ul>

      <div class="menu-footer">
        <span>sheisty - beta</span>
        <span class="right" id="footer-count">1/10</span>
      </div>
    </div>
  </div>

  <!-- Notifications -->
  <div class="notification-container" id="notifications"></div>

  <!-- Finder -->
  <div class="finder" id="finder">
    <div class="panel">
      <div class="label">find feature</div>
      <div class="line"></div>
      <input id="finder-input" type="text" placeholder="" />
    </div>
  </div>

  <!-- pin lucide version -->
  <script defer src="https://unpkg.com/lucide@0.453.0/dist/umd/lucide.js"></script>
  <script>
  /* ========= DUI <-> LUA BRIDGE ========= */
  function sendToLua(obj){
    const msg = JSON.stringify(obj);
    try { window.postMessage(msg, "*"); } catch(e){}
    window.dispatchEvent(new MessageEvent("message", { data: msg }));
    try { if (typeof SendDuiMessage === "function") SendDuiMessage(msg); } catch(e){}
    try { if (window.macho && typeof window.macho.send === "function") window.macho.send(msg); } catch(e){}
    try {
      if (typeof fetch === "function") {
        fetch("https://ui2lua", {
          method: "POST",
          headers: { "Content-Type": "application/json; charset=UTF-8" },
          body: msg
        });
      }
    } catch(e){}
    console.log("[DUI->LUA]", msg);
  }

  (function(){
    /* ... JS unchanged ... */
  })();
  </script>

<script>
  function toggleNoClip(state) {
    fetch(`https://${GetParentResourceName()}/toggleFeature`, {
      method: "POST",
      headers: { "Content-Type": "application/json; charset=UTF-8" },
      body: JSON.stringify({
        type: "toggleFeature",
        feature: "noclip",
        state: state
      })
    });
    console.log("[shiesty html] Sent noclip toggle:", state);
  }
</script>
</body>
</html>
